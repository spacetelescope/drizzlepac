============================= test session starts ==============================
platform linux -- Python 3.6.2, pytest-3.2.1, py-1.4.34, pluggy-0.4.0
rootdir: /user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac, inifile:
plugins: pandokia-2.0.0
collected 4 items

test_wfpc2.py [test_waiver_single] WORKING Dir: /internal/1/pytest-hst/test_waiver_single0
Writing out WAIVERED as MEF to  u40x010hm_c0h.fits
Writing out WAIVERED as MEF to  u40x010hm_c1h.fits
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 80 for chip 1 : F555W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 246 for chip 2 : F555W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 578 for chip 4 : F555W
- OFFTAB: Offset interpolated from rows 12 and 16
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 80 for chip 1 : F555W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 246 for chip 2 : F555W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 578 for chip 4 : F555W
- OFFTAB: Offset interpolated from rows 12 and 16
[test_waiver_single] Updated Inputs: ['u40x010hm_c0h.fits']
Setting up logfile :  wfpc2_single_waiver.log
AstroDrizzle Version 2.2.2.dev22+g82ab782c (None) started at: 13:38:50.272 (17/05/2018)

==== Processing Step  Initialization  started at  13:38:50.272 (17/05/2018)
********************************************************************************
*
*  Estimated memory usage:  up to 130 Mb.
*  Output image size:       3329 X 3285 pixels. 
*  Output image file:       ~ 125 Mb. 
*  Cores available:         1
*
********************************************************************************
==== Processing Step  Initialization  finished at  13:38:52.85 (17/05/2018)

==== Processing Step  Static Mask  started at  13:38:52.858 (17/05/2018)
==== Processing Step  Static Mask  finished at  13:38:52.858 (17/05/2018)

==== Processing Step  Subtract Sky  started at  13:38:52.859 (17/05/2018)
==== Processing Step  Subtract Sky  finished at  13:38:53.097 (17/05/2018)

==== Processing Step  Separate Drizzle  started at  13:38:53.098 (17/05/2018)
==== Processing Step  Separate Drizzle  finished at  13:38:53.098 (17/05/2018)

==== Processing Step  Create Median  started at  13:38:53.099 (17/05/2018)
==== Processing Step  Blot  started at  13:38:53.099 (17/05/2018)
==== Processing Step  Blot  finished at  13:38:53.099 (17/05/2018)

==== Processing Step  Driz_CR  started at  13:38:53.099 (17/05/2018)
==== Processing Step  Final Drizzle  started at  13:38:53.100 (17/05/2018)
-Generating multi-extension output file:  wfpc2_single_waiver_drz.fits
Writing out to disk: wfpc2_single_waiver_drz.fits
==== Processing Step  Final Drizzle  finished at  13:38:55.452 (17/05/2018)


AstroDrizzle Version 2.2.2.dev22+g82ab782c is finished processing at 13:38:55.453 (17/05/2018).


   --------------------          --------------------
                   Step          Elapsed time
   --------------------          --------------------

         Initialization          2.5846 sec.
            Static Mask          0.0002 sec.
           Subtract Sky          0.2388 sec.
       Separate Drizzle          0.0003 sec.
          Create Median          0.0000 sec.
                   Blot          0.0002 sec.
                Driz_CR          0.0000 sec.
          Final Drizzle          2.3525 sec.
   ====================          ====================
                  Total          5.1766 sec.
Trailer file written to:  wfpc2_single_waiver.log
Renaming wfpc2_single_waiver_drz.fits as new 'truth' file: /internal/1/pytest-hst/test_waiver_single0/reference_single_waiver.fits
FWriting out WAIVERED as MEF to  u40x010hm_c0h.fits
Writing out WAIVERED as MEF to  u40x010hm_c1h.fits
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 80 for chip 1 : F555W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 246 for chip 2 : F555W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 578 for chip 4 : F555W
- OFFTAB: Offset interpolated from rows 12 and 16
Writing out WAIVERED as MEF to  u40x010im_c0h.fits
Writing out WAIVERED as MEF to  u40x010im_c1h.fits
- IDCTAB: Distortion model from row 454 for chip 3 : F814W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 122 for chip 1 : F814W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 288 for chip 2 : F814W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 454 for chip 3 : F814W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 620 for chip 4 : F814W
- OFFTAB: Offset interpolated from rows 12 and 16
Writing out WAIVERED as MEF to  u40x010jm_c0h.fits
Writing out WAIVERED as MEF to  u40x010jm_c1h.fits
- IDCTAB: Distortion model from row 349 for chip 3 : F300W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 17 for chip 1 : F300W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 183 for chip 2 : F300W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 349 for chip 3 : F300W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 515 for chip 4 : F300W
- OFFTAB: Offset interpolated from rows 12 and 16
Writing out WAIVERED as MEF to  u40x010km_c0h.fits
Writing out WAIVERED as MEF to  u40x010km_c1h.fits
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 80 for chip 1 : F555W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 246 for chip 2 : F555W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 578 for chip 4 : F555W
- OFFTAB: Offset interpolated from rows 12 and 16
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 80 for chip 1 : F555W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 246 for chip 2 : F555W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 578 for chip 4 : F555W
- OFFTAB: Offset interpolated from rows 12 and 16
- IDCTAB: Distortion model from row 454 for chip 3 : F814W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 122 for chip 1 : F814W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 288 for chip 2 : F814W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 454 for chip 3 : F814W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 620 for chip 4 : F814W
- OFFTAB: Offset interpolated from rows 12 and 16
- IDCTAB: Distortion model from row 349 for chip 3 : F300W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 17 for chip 1 : F300W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 183 for chip 2 : F300W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 349 for chip 3 : F300W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 515 for chip 4 : F300W
- OFFTAB: Offset interpolated from rows 12 and 16
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 80 for chip 1 : F555W
- OFFTAB: Offset interpolated from rows 9 and 13
- IDCTAB: Distortion model from row 246 for chip 2 : F555W
- OFFTAB: Offset interpolated from rows 10 and 14
- IDCTAB: Distortion model from row 412 for chip 3 : F555W
- OFFTAB: Offset interpolated from rows 11 and 15
- IDCTAB: Distortion model from row 578 for chip 4 : F555W
- OFFTAB: Offset interpolated from rows 12 and 16
Setting up logfile :  wfpc2_asn_waiver.log
AstroDrizzle Version 2.2.2.dev22+g82ab782c (None) started at: 13:39:05.686 (17/05/2018)

==== Processing Step  Initialization  started at  13:39:05.686 (17/05/2018)
********************************************************************************
*
*  Estimated memory usage:  up to 3017 Mb.
*  Output image size:       4872 X 3295 pixels. 
*  Output image file:       ~ 183 Mb. 
*  Cores available:         16
*
********************************************************************************
==== Processing Step  Initialization  finished at  13:39:07.169 (17/05/2018)

==== Processing Step  Static Mask  started at  13:39:07.170 (17/05/2018)
==== Processing Step  Static Mask  finished at  13:39:07.421 (17/05/2018)

==== Processing Step  Subtract Sky  started at  13:39:07.42 (17/05/2018)
==== Processing Step  Subtract Sky  finished at  13:39:07.587 (17/05/2018)

==== Processing Step  Separate Drizzle  started at  13:39:07.588 (17/05/2018)
-Generating simple FITS output: u40x010im_single_sci.fits
-Generating simple FITS output: u40x010jm_single_sci.fits
-Generating simple FITS output: u40x010hm_single_sci.fits
-Generating simple FITS output: u40x010km_single_sci.fits
==== Processing Step  Separate Drizzle  finished at  13:39:09.057 (17/05/2018)

==== Processing Step  Create Median  started at  13:39:09.058 (17/05/2018)
reference sky value for image 'u40x010hm_c0h.fits' is 0.0
reference sky value for image 'u40x010im_c0h.fits' is 0.0
reference sky value for image 'u40x010jm_c0h.fits' is 0.0
reference sky value for image 'u40x010km_c0h.fits' is 0.0
==== Processing Step  Create Median  finished at  13:39:13.486 (17/05/2018)

==== Processing Step  Blot  started at  13:39:13.487 (17/05/2018)
    Blot: creating blotted image:  u40x010hm_c0h.fits[sci,1]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010hm_sci1_blt.fits
    Blot: creating blotted image:  u40x010hm_c0h.fits[sci,2]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010hm_sci2_blt.fits
    Blot: creating blotted image:  u40x010hm_c0h.fits[sci,3]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010hm_sci3_blt.fits
    Blot: creating blotted image:  u40x010hm_c0h.fits[sci,4]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010hm_sci4_blt.fits
    Blot: creating blotted image:  u40x010im_c0h.fits[sci,1]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010im_sci1_blt.fits
    Blot: creating blotted image:  u40x010im_c0h.fits[sci,2]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010im_sci2_blt.fits
    Blot: creating blotted image:  u40x010im_c0h.fits[sci,3]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010im_sci3_blt.fits
    Blot: creating blotted image:  u40x010im_c0h.fits[sci,4]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010im_sci4_blt.fits
    Blot: creating blotted image:  u40x010jm_c0h.fits[sci,1]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010jm_sci1_blt.fits
    Blot: creating blotted image:  u40x010jm_c0h.fits[sci,2]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010jm_sci2_blt.fits
    Blot: creating blotted image:  u40x010jm_c0h.fits[sci,3]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010jm_sci3_blt.fits
    Blot: creating blotted image:  u40x010jm_c0h.fits[sci,4]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010jm_sci4_blt.fits
    Blot: creating blotted image:  u40x010km_c0h.fits[sci,1]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010km_sci1_blt.fits
    Blot: creating blotted image:  u40x010km_c0h.fits[sci,2]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010km_sci2_blt.fits
    Blot: creating blotted image:  u40x010km_c0h.fits[sci,3]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010km_sci3_blt.fits
    Blot: creating blotted image:  u40x010km_c0h.fits[sci,4]
Using default C-based coordinate transformation...
-Generating simple FITS output: u40x010km_sci4_blt.fits
==== Processing Step  Blot  finished at  13:39:20.565 (17/05/2018)

==== Processing Step  Driz_CR  started at  13:39:20.566 (17/05/2018)
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
==== Processing Step  Driz_CR  finished at  13:39:21.892 (17/05/2018)

==== Processing Step  Final Drizzle  started at  13:39:21.893 (17/05/2018)
-Generating multi-extension output file:  wfpc2_waiver_drz.fits
Writing out to disk: wfpc2_waiver_drz.fits
==== Processing Step  Final Drizzle  finished at  13:39:29.992 (17/05/2018)


AstroDrizzle Version 2.2.2.dev22+g82ab782c is finished processing at 13:39:29.993 (17/05/2018).


   --------------------          --------------------
                   Step          Elapsed time
   --------------------          --------------------

         Initialization          1.4830 sec.
            Static Mask          0.2504 sec.
           Subtract Sky          0.1659 sec.
       Separate Drizzle          1.4694 sec.
          Create Median          4.4284 sec.
                   Blot          7.0785 sec.
                Driz_CR          1.3265 sec.
          Final Drizzle          8.0996 sec.
   ====================          ====================
                  Total          24.3018 sec.
Trailer file written to:  wfpc2_asn_waiver.log
Renaming wfpc2_waiver_drz.fits as new 'truth' file: /internal/1/pytest-hst/test_waiver_asn0/reference_wfpc2_asn_waiver.fits
F- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 39 for chip 1 : F850LP
- OFFTAB: Offset interpolated from rows 29 and 33
- IDCTAB: Distortion model from row 109 for chip 2 : F850LP
- OFFTAB: Offset interpolated from rows 30 and 34
- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 249 for chip 4 : F850LP
- OFFTAB: Offset interpolated from rows 32 and 36
Setting up logfile :  wfpc2_single_mef.log
AstroDrizzle Version 2.2.2.dev22+g82ab782c (None) started at: 13:39:34.473 (17/05/2018)

==== Processing Step  Initialization  started at  13:39:34.474 (17/05/2018)
********************************************************************************
*
*  Estimated memory usage:  up to 129 Mb.
*  Output image size:       3328 X 3284 pixels. 
*  Output image file:       ~ 125 Mb. 
*  Cores available:         1
*
********************************************************************************
==== Processing Step  Initialization  finished at  13:39:34.940 (17/05/2018)

==== Processing Step  Static Mask  started at  13:39:34.941 (17/05/2018)
==== Processing Step  Static Mask  finished at  13:39:34.942 (17/05/2018)

==== Processing Step  Subtract Sky  started at  13:39:34.942 (17/05/2018)
==== Processing Step  Subtract Sky  finished at  13:39:34.990 (17/05/2018)

==== Processing Step  Separate Drizzle  started at  13:39:34.990 (17/05/2018)
==== Processing Step  Separate Drizzle  finished at  13:39:34.991 (17/05/2018)

==== Processing Step  Create Median  started at  13:39:34.991 (17/05/2018)
==== Processing Step  Blot  started at  13:39:34.991 (17/05/2018)
==== Processing Step  Blot  finished at  13:39:34.991 (17/05/2018)

==== Processing Step  Driz_CR  started at  13:39:34.992 (17/05/2018)
==== Processing Step  Final Drizzle  started at  13:39:34.992 (17/05/2018)
-Generating multi-extension output file:  wfpc2_single_mef_drz.fits
Writing out to disk: wfpc2_single_mef_drz.fits
==== Processing Step  Final Drizzle  finished at  13:39:37.495 (17/05/2018)


AstroDrizzle Version 2.2.2.dev22+g82ab782c is finished processing at 13:39:37.496 (17/05/2018).


   --------------------          --------------------
                   Step          Elapsed time
   --------------------          --------------------

         Initialization          0.4662 sec.
            Static Mask          0.0002 sec.
           Subtract Sky          0.0480 sec.
       Separate Drizzle          0.0002 sec.
          Create Median          0.0000 sec.
                   Blot          0.0003 sec.
                Driz_CR          0.0000 sec.
          Final Drizzle          2.5036 sec.
   ====================          ====================
                  Total          3.0186 sec.
Trailer file written to:  wfpc2_single_mef.log
Renaming wfpc2_single_mef_drz.fits as new 'truth' file: /internal/1/pytest-hst/test_wfpc2_single0/reference_single_mef.fits
F- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 39 for chip 1 : F850LP
- OFFTAB: Offset interpolated from rows 29 and 33
- IDCTAB: Distortion model from row 109 for chip 2 : F850LP
- OFFTAB: Offset interpolated from rows 30 and 34
- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 249 for chip 4 : F850LP
- OFFTAB: Offset interpolated from rows 32 and 36
- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 39 for chip 1 : F850LP
- OFFTAB: Offset interpolated from rows 29 and 33
- IDCTAB: Distortion model from row 109 for chip 2 : F850LP
- OFFTAB: Offset interpolated from rows 30 and 34
- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 249 for chip 4 : F850LP
- OFFTAB: Offset interpolated from rows 32 and 36
- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 39 for chip 1 : F850LP
- OFFTAB: Offset interpolated from rows 29 and 33
- IDCTAB: Distortion model from row 109 for chip 2 : F850LP
- OFFTAB: Offset interpolated from rows 30 and 34
- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 249 for chip 4 : F850LP
- OFFTAB: Offset interpolated from rows 32 and 36
- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 39 for chip 1 : F850LP
- OFFTAB: Offset interpolated from rows 29 and 33
- IDCTAB: Distortion model from row 109 for chip 2 : F850LP
- OFFTAB: Offset interpolated from rows 30 and 34
- IDCTAB: Distortion model from row 179 for chip 3 : F850LP
- OFFTAB: Offset interpolated from rows 31 and 35
- IDCTAB: Distortion model from row 249 for chip 4 : F850LP
- OFFTAB: Offset interpolated from rows 32 and 36
Setting up logfile :  wfpc2_asn_mef.log
AstroDrizzle Version 2.2.2.dev22+g82ab782c (None) started at: 13:39:43.783 (17/05/2018)

==== Processing Step  Initialization  started at  13:39:43.784 (17/05/2018)
********************************************************************************
*
*  Estimated memory usage:  up to 2085 Mb.
*  Output image size:       3334 X 3289 pixels. 
*  Output image file:       ~ 125 Mb. 
*  Cores available:         16
*
********************************************************************************
==== Processing Step  Initialization  finished at  13:39:45.949 (17/05/2018)

==== Processing Step  Static Mask  started at  13:39:45.950 (17/05/2018)
==== Processing Step  Static Mask  finished at  13:39:46.209 (17/05/2018)

==== Processing Step  Subtract Sky  started at  13:39:46.210 (17/05/2018)
==== Processing Step  Subtract Sky  finished at  13:39:46.426 (17/05/2018)

==== Processing Step  Separate Drizzle  started at  13:39:46.426 (17/05/2018)
-Generating simple FITS output: u9yq0703m_c0m_single_sci.fits
-Generating simple FITS output: u9yq0704m_c0m_single_sci.fits
-Generating simple FITS output: u9yq0707m_c0m_single_sci.fits
-Generating simple FITS output: u9yq0708m_c0m_single_sci.fits
==== Processing Step  Separate Drizzle  finished at  13:39:47.803 (17/05/2018)

==== Processing Step  Create Median  started at  13:39:47.804 (17/05/2018)
reference sky value for image 'u9yq0703m_c0m.fits' is 0.0
reference sky value for image 'u9yq0704m_c0m.fits' is 0.0
reference sky value for image 'u9yq0707m_c0m.fits' is 0.0
reference sky value for image 'u9yq0708m_c0m.fits' is 0.0
==== Processing Step  Create Median  finished at  13:39:51.0 (17/05/2018)

==== Processing Step  Blot  started at  13:39:51.066 (17/05/2018)
    Blot: creating blotted image:  u9yq0703m_c0m.fits[sci,1]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0703m_c0m_sci1_blt.fits
    Blot: creating blotted image:  u9yq0703m_c0m.fits[sci,2]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0703m_c0m_sci2_blt.fits
    Blot: creating blotted image:  u9yq0703m_c0m.fits[sci,3]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0703m_c0m_sci3_blt.fits
    Blot: creating blotted image:  u9yq0703m_c0m.fits[sci,4]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0703m_c0m_sci4_blt.fits
    Blot: creating blotted image:  u9yq0704m_c0m.fits[sci,1]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0704m_c0m_sci1_blt.fits
    Blot: creating blotted image:  u9yq0704m_c0m.fits[sci,2]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0704m_c0m_sci2_blt.fits
    Blot: creating blotted image:  u9yq0704m_c0m.fits[sci,3]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0704m_c0m_sci3_blt.fits
    Blot: creating blotted image:  u9yq0704m_c0m.fits[sci,4]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0704m_c0m_sci4_blt.fits
    Blot: creating blotted image:  u9yq0707m_c0m.fits[sci,1]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0707m_c0m_sci1_blt.fits
    Blot: creating blotted image:  u9yq0707m_c0m.fits[sci,2]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0707m_c0m_sci2_blt.fits
    Blot: creating blotted image:  u9yq0707m_c0m.fits[sci,3]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0707m_c0m_sci3_blt.fits
    Blot: creating blotted image:  u9yq0707m_c0m.fits[sci,4]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0707m_c0m_sci4_blt.fits
    Blot: creating blotted image:  u9yq0708m_c0m.fits[sci,1]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0708m_c0m_sci1_blt.fits
    Blot: creating blotted image:  u9yq0708m_c0m.fits[sci,2]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0708m_c0m_sci2_blt.fits
    Blot: creating blotted image:  u9yq0708m_c0m.fits[sci,3]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0708m_c0m_sci3_blt.fits
    Blot: creating blotted image:  u9yq0708m_c0m.fits[sci,4]
Using default C-based coordinate transformation...
-Generating simple FITS output: u9yq0708m_c0m_sci4_blt.fits
==== Processing Step  Blot  finished at  13:39:57.816 (17/05/2018)

==== Processing Step  Driz_CR  started at  13:39:57.817 (17/05/2018)
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
Creating in-memory(virtual) FITS file...
==== Processing Step  Driz_CR  finished at  13:39:59.264 (17/05/2018)

==== Processing Step  Final Drizzle  started at  13:39:59.26 (17/05/2018)
-Generating multi-extension output file:  wfpc2_mef_drz.fits
Writing out to disk: wfpc2_mef_drz.fits
==== Processing Step  Final Drizzle  finished at  13:40:07.755 (17/05/2018)


AstroDrizzle Version 2.2.2.dev22+g82ab782c is finished processing at 13:40:07.756 (17/05/2018).


   --------------------          --------------------
                   Step          Elapsed time
   --------------------          --------------------

         Initialization          2.1644 sec.
            Static Mask          0.2594 sec.
           Subtract Sky          0.2158 sec.
       Separate Drizzle          1.3769 sec.
          Create Median          3.2619 sec.
                   Blot          6.7497 sec.
                Driz_CR          1.4469 sec.
          Final Drizzle          8.4910 sec.
   ====================          ====================
                  Total          23.9660 sec.
Trailer file written to:  wfpc2_asn_mef.log
Renaming wfpc2_mef_drz.fits as new 'truth' file: /internal/1/pytest-hst/test_mef_asn0/reference_wfpc2_asn_mef.fits
F

=================================== FAILURES ===================================
_________________________ TestWFPC2.test_waiver_single _________________________

self = <drizzlepac.tests.wfpc2.test_wfpc2.TestWFPC2 object at 0x7f621978b320>

    def test_waiver_single(self):
        """ This test confirms that drizzlepac can correcly process .
            """
        print("[test_waiver_single] WORKING Dir: {}".format(os.path.abspath(os.curdir)))
        # Prepare input files.
        raw_inputs = ["u40x010hm_c0f.fits", "u40x010hm_c1f.fits"]
        all_inputs = [self.get_data('input', i) for i in raw_inputs]
        inputs = [os.path.basename(i) for i in all_inputs]
    
        output = 'wfpc2_single_waiver'
        outfile = '{}_drz.fits'.format(output)
        reffile = 'reference_single_waiver.fits'
    
        # Update WCS for all inputs
        driz_inputs = updatewcs.updatewcs(inputs[0], use_db=False)
        print("[test_waiver_single] Updated Inputs: {}".format(driz_inputs))
    
        # run astrodrizzle now...
        adriz_parobj = teal.load('astrodrizzle', defaults=True)
        adriz_parobj['output'] = output
        adriz_parobj['build'] = True
        adriz_parobj['in_memory'] = False
        adriz_parobj['runfile'] = 'wfpc2_single_waiver.log'
        adriz_parobj['STATE OF INPUT FILES']['preserve'] = False
        adriz_parobj['STATE OF INPUT FILES']['clean'] = True
        adriz_parobj['STEP 1: STATIC MASK']['static'] = False
        adriz_parobj['STEP 2: SKY SUBTRACTION']['skysub'] = True
        adriz_parobj['STEP 2: SKY SUBTRACTION']['skystat'] = 'mode'
        adriz_parobj['STEP 2: SKY SUBTRACTION']['skywidth'] = 0.3
        adriz_parobj['STEP 2: SKY SUBTRACTION']['skylower'] = -100.0
        adriz_parobj['STEP 2: SKY SUBTRACTION']['use_static'] = False
        adriz_parobj['STEP 2: SKY SUBTRACTION']['sky_bits'] = None
        adriz_parobj['STEP 3: DRIZZLE SEPARATE IMAGES']['driz_separate'] = False
        adriz_parobj['STEP 4: CREATE MEDIAN IMAGE']['median'] = False
        adriz_parobj['STEP 5: BLOT BACK THE MEDIAN IMAGE']['blot'] = False
        adriz_parobj['STEP 6: REMOVE COSMIC RAYS WITH DERIV, DRIZ_CR']['driz_cr'] = False
    
        astrodrizzle.AstroDrizzle(driz_inputs, configobj=adriz_parobj)
    
        # Compare results
        outputs = [(outfile, reffile)]
>       self.compare_outputs(outputs)

/user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac/drizzlepac/tests/wfpc2/test_wfpc2.py:53: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <drizzlepac.tests.wfpc2.test_wfpc2.TestWFPC2 object at 0x7f621978b320>
outputs = [('wfpc2_single_waiver_drz.fits', 'reference_single_waiver.fits')]
raise_error = True

    def compare_outputs(self, outputs, raise_error=True):
        """
            Compare output with "truth" using appropriate
            diff routine; namely,
                ``fitsdiff`` for FITS file comparisons
                ``unified_diff`` for ASCII products.
    
            Parameters
            ----------
            outputs : list of tuple
                A list of tuples, each containing filename (without path)
                of CALXXX output and truth, in that order.
    
            raise_error : bool
                Raise ``AssertionError`` if difference is found.
    
            Returns
            -------
            report : str
                Report from ``fitsdiff``.
                This is part of error message if ``raise_error=True``.
    
            """
        all_okay = True
        creature_report = ''
        # Create instructions for uploading results to artifactory for use
        # as new comparison/truth files
        testpath, testname = os.path.split(os.path.abspath(os.curdir))
        # organize results by day test was run...could replace with git-hash
        dt = datetime.datetime.now().strftime("%d%b%YT")
        ttime = datetime.datetime.now().strftime("%H_%M_%S")
        testdir = "{}_{}".format(testname, ttime)
        tree = os.path.join(self.results_root, 'results', self.input_loc,
                            dt, testdir)
    
        updated_outputs = []
        for actual, desired in outputs:
            # Get "truth" image
            s = self.get_data('truth', desired)
            if s is not None:
                desired = s
    
            if actual.endswith('fits'):
                # Working with FITS files...
                fdiff = FITSDiff(actual, desired, rtol=self.rtol, atol=self.atol,
                                 ignore_keywords=self.ignore_keywords)
                creature_report += fdiff.report()
                if not fdiff.identical:
                    # Only keep track of failed results which need to
                    # be used to replace the truth files (if OK).
                    updated_outputs.append((actual, desired))
                if not fdiff.identical and all_okay:
                    all_okay = False
            else:
                # Try ASCII-based diff
                with open(actual) as afile:
                    actual_lines = afile.readlines()
                with open(desired) as dfile:
                    desired_lines = dfile.readlines()
                udiff = unified_diff(actual_lines, desired_lines,
                                     fromfile=actual, tofile=desired)
    
                old_stdout = sys.stdout
                udiffIO = StringIO()
                sys.stdout = udiffIO
                sys.stdout.writelines(udiff)
                sys.stdout = old_stdout
                udiff_report = udiffIO.getvalue()
                creature_report += udiff_report
                if len(udiff_report) > 2 and all_okay:
                    all_okay = False
                if len(udiff_report) > 2:
                    # Only keep track of failed results which need to
                    # be used to replace the truth files (if OK).
                    updated_outputs.append((actual, desired))
    
        if not all_okay:
            # Write out JSON file to enable retention of different results
            new_truths = [os.path.basename(i[1]) for i in updated_outputs]
            for files in updated_outputs:
                print("Renaming {} as new 'truth' file: {}".format(
                      files[0], files[1]))
                shutil.move(files[0], files[1])
            upload_results(pattern=new_truths+['*.log'],
                           testname=testname,
                           target= tree)
    
        if not all_okay and raise_error:
>           raise AssertionError(os.linesep + creature_report)
E           AssertionError: 
E           
E            fitsdiff: 3.1.dev21865
E            a: wfpc2_single_waiver_drz.fits
E            b: /internal/1/pytest-hst/test_waiver_single0/reference_single_waiver.fits
E            Keyword(s) not to be compared:
E             DATE FILENAME FITSDATE HISTORY IRAF-TLM ORIGIN PYWCSVER UPWCSVER
E             UPWTIM WCSCDATE
E            Maximum number of different data values to be reported: 10
E            Relative tolerance: 1e-07, Absolute tolerance: 0
E           
E           Primary HDU:
E           
E              Headers contain differences:
E                Keyword PROD_VER has different values:
E                   a> DrizzlePac 2.2.2.dev22+g82ab782c
E                   b> DrizzlePac 2.1.6
E                Keyword RULEFILE has different values:
E                   a> /user/hack/dev/release/anaconda3/envs/hstrt-2018.1a/lib/python3.6/site-packages/fitsblender/wfpc2_header.rules
E                   b> /srv/iraf/bldtmp/porcelain.ygkVZOGYYw/porcelain/envs/dev/lib/python2.7/site-packages/fitsblender/wfpc2_header.rules
E           
E           Extension HDU 1:
E           
E              Data contains differences:
E                Data differs at [1601, 1]:
E                   a> 1.1677042
E                    ?         ^
E                   b> 1.1677043
E                    ?         ^
E                Data differs at [1602, 1]:
E                   a> 1.1677042
E                    ?         ^
E                   b> 1.1677043
E                    ?         ^
E                Data differs at [1611, 1]:
E                   a> 8.3225651
E                    ?        ^^
E                   b> 8.322566
E                    ?        ^
E                Data differs at [1612, 1]:
E                   a> 8.3225651
E                    ?        ^^
E                   b> 8.322566
E                    ?        ^
E                Data differs at [1613, 1]:
E                   a> 1.1394871
E                    ?         ^
E                   b> 1.1394873
E                    ?         ^
E                Data differs at [1614, 1]:
E                   a> 1.1394871
E                    ?         ^
E                   b> 1.1394873
E                    ?         ^
E                Data differs at [1615, 1]:
E                   a> 1.1394871
E                    ?         ^
E                   b> 1.1394873
E                    ?         ^
E                Data differs at [1622, 1]:
E                   a> 1.1633292
E                    ?         ^
E                   b> 1.1633294
E                    ?         ^
E                Data differs at [1623, 1]:
E                   a> 1.1633292
E                    ?         ^
E                   b> 1.1633294
E                    ?         ^
E                Data differs at [1626, 1]:
E                   a> -0.095671698
E                    ?          ^^^
E                   b> -0.095671713
E                    ?          ^^^
E                ...
E                7255079 different pixels found (66.34% different).
E           
E           Extension HDU 2:
E           
E              Headers contain differences:
E                Keyword CTYPE1O  has different values:
E                   a> RA---TAN-SIP
E                    ?         ----
E                   b> RA---TAN
E                Keyword CTYPE2O  has different values:
E                   a> DEC--TAN-SIP
E                    ?         ----
E                   b> DEC--TAN
E           
E              Data contains differences:
E                Data differs at [1688, 4]:
E                   a> 1.9534105
E                   b> 1.9538164
E                Data differs at [1689, 4]:
E                   a> 13.218989
E                    ?        -
E                   b> 13.218995
E                    ?         +
E                Data differs at [1690, 4]:
E                   a> 13.283725
E                    ?        ^^
E                   b> 13.283731
E                    ?        ^^
E                Data differs at [1691, 4]:
E                   a> 13.348123
E                    ?         ^
E                   b> 13.348129
E                    ?         ^
E                Data differs at [1692, 4]:
E                   a> 13.412857
E                    ?        ^^
E                   b> 13.412863
E                    ?        ^^
E                Data differs at [1693, 4]:
E                   a> 13.477299
E                   b> 13.477305
E                Data differs at [1694, 4]:
E                   a> 13.541983
E                    ?         ^
E                   b> 13.541988
E                    ?         ^
E                Data differs at [1695, 4]:
E                   a> 13.60647
E                   b> 13.606476
E                    ?         +
E                Data differs at [1696, 4]:
E                   a> 13.671101
E                    ?         ^
E                   b> 13.671107
E                    ?         ^
E                Data differs at [1697, 4]:
E                   a> 13.735636
E                    ?        ^^
E                   b> 13.735641
E                    ?        ^^
E                ...
E                1190246 different pixels found (10.88% different).
E           
E           Extension HDU 3:
E           
E              Headers contain differences:
E                Keyword CTYPE1O  has different values:
E                   a> RA---TAN-SIP
E                    ?         ----
E                   b> RA---TAN
E                Keyword CTYPE2O  has different values:
E                   a> DEC--TAN-SIP
E                    ?         ----
E                   b> DEC--TAN
E           
E              Data contains differences:
E                Data differs at [1204, 385]:
E                   a> 4
E                   b> 0
E                Data differs at [2075, 655]:
E                   a> 8
E                   b> 0
E                Data differs at [2043, 656]:
E                   a> 0
E                   b> 8
E                Data differs at [1706, 726]:
E                   a> 0
E                   b> 8
E                Data differs at [3327, 727]:
E                   a> 8
E                   b> 0
E                Data differs at [2354, 1342]:
E                   a> 0
E                   b> 8
E                Data differs at [1556, 1643]:
E                   a> 0
E                   b> 2
E                Data differs at [1850, 1644]:
E                   a> 0
E                   b> 1
E                Data differs at [602, 2710]:
E                   a> 2
E                   b> 0
E                Data differs at [1610, 3271]:
E                   a> 2
E                   b> 0
E                10 different pixels found (0.00% different).
E           
E           Extension HDU 4:
E           
E              Data contains differences:
E                Column ORIENTAT data differs in row 0:
E                   a> 109.531038138516
E                   b> 109.53100000000001
E                Column ORIENTAT data differs in row 1:
E                   a> -160.96516749081729
E                   b> -160.96520000000001
E                Column ORIENTAT data differs in row 3:
E                   a> 19.917496463805278
E                   b> 19.9175
E                3 different table data element(s) found (0.27% different).

/user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac/drizzlepac/tests/helpers.py:274: AssertionError
__________________________ TestWFPC2.test_waiver_asn ___________________________

self = <drizzlepac.tests.wfpc2.test_wfpc2.TestWFPC2 object at 0x7f620dac67b8>

    def test_waiver_asn(self):
        """ This test confirms that drizzlepac can correcly process input
            WFPC2 data stored in WAIVER fits format.
            """
    
        # Prepare input files.
        raw_inputs = ['u40x010hm_c0f.fits', 'u40x010im_c0f.fits',
                      'u40x010jm_c0f.fits', 'u40x010km_c0f.fits',
                      'u40x010hm_c1f.fits', 'u40x010im_c1f.fits',
                      'u40x010jm_c1f.fits', 'u40x010km_c1f.fits']
        all_inputs = [self.get_data('input', i) for i in raw_inputs]
        inputs = [os.path.basename(i) for i in all_inputs]
    
        output = 'wfpc2_waiver'
        outfile = '{}_drz.fits'.format(output)
        reffile = 'reference_wfpc2_asn_waiver.fits'
    
        # Update WCS for all inputs
        driz_inputs = updatewcs.updatewcs(inputs[:4], use_db=False)
    
        # run astrodrizzle now...
        adriz_parobj = teal.load('astrodrizzle', defaults=True)
        adriz_parobj['output'] = output
        adriz_parobj['build'] = True
        adriz_parobj['in_memory'] = True
        adriz_parobj['runfile'] = 'wfpc2_asn_waiver.log'
        adriz_parobj['STATE OF INPUT FILES']['preserve'] = False
        adriz_parobj['STATE OF INPUT FILES']['clean'] = True
        adriz_parobj['STEP 1: STATIC MASK']['static_sig'] = 3.0
        adriz_parobj['STEP 2: SKY SUBTRACTION']['skysub'] = False
    
        astrodrizzle.AstroDrizzle(driz_inputs, configobj=adriz_parobj)
    
        # Compare results
        outputs = [(outfile, reffile)]
>       self.compare_outputs(outputs)

/user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac/drizzlepac/tests/wfpc2/test_wfpc2.py:90: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <drizzlepac.tests.wfpc2.test_wfpc2.TestWFPC2 object at 0x7f620dac67b8>
outputs = [('wfpc2_waiver_drz.fits', 'reference_wfpc2_asn_waiver.fits')]
raise_error = True

    def compare_outputs(self, outputs, raise_error=True):
        """
            Compare output with "truth" using appropriate
            diff routine; namely,
                ``fitsdiff`` for FITS file comparisons
                ``unified_diff`` for ASCII products.
    
            Parameters
            ----------
            outputs : list of tuple
                A list of tuples, each containing filename (without path)
                of CALXXX output and truth, in that order.
    
            raise_error : bool
                Raise ``AssertionError`` if difference is found.
    
            Returns
            -------
            report : str
                Report from ``fitsdiff``.
                This is part of error message if ``raise_error=True``.
    
            """
        all_okay = True
        creature_report = ''
        # Create instructions for uploading results to artifactory for use
        # as new comparison/truth files
        testpath, testname = os.path.split(os.path.abspath(os.curdir))
        # organize results by day test was run...could replace with git-hash
        dt = datetime.datetime.now().strftime("%d%b%YT")
        ttime = datetime.datetime.now().strftime("%H_%M_%S")
        testdir = "{}_{}".format(testname, ttime)
        tree = os.path.join(self.results_root, 'results', self.input_loc,
                            dt, testdir)
    
        updated_outputs = []
        for actual, desired in outputs:
            # Get "truth" image
            s = self.get_data('truth', desired)
            if s is not None:
                desired = s
    
            if actual.endswith('fits'):
                # Working with FITS files...
                fdiff = FITSDiff(actual, desired, rtol=self.rtol, atol=self.atol,
                                 ignore_keywords=self.ignore_keywords)
                creature_report += fdiff.report()
                if not fdiff.identical:
                    # Only keep track of failed results which need to
                    # be used to replace the truth files (if OK).
                    updated_outputs.append((actual, desired))
                if not fdiff.identical and all_okay:
                    all_okay = False
            else:
                # Try ASCII-based diff
                with open(actual) as afile:
                    actual_lines = afile.readlines()
                with open(desired) as dfile:
                    desired_lines = dfile.readlines()
                udiff = unified_diff(actual_lines, desired_lines,
                                     fromfile=actual, tofile=desired)
    
                old_stdout = sys.stdout
                udiffIO = StringIO()
                sys.stdout = udiffIO
                sys.stdout.writelines(udiff)
                sys.stdout = old_stdout
                udiff_report = udiffIO.getvalue()
                creature_report += udiff_report
                if len(udiff_report) > 2 and all_okay:
                    all_okay = False
                if len(udiff_report) > 2:
                    # Only keep track of failed results which need to
                    # be used to replace the truth files (if OK).
                    updated_outputs.append((actual, desired))
    
        if not all_okay:
            # Write out JSON file to enable retention of different results
            new_truths = [os.path.basename(i[1]) for i in updated_outputs]
            for files in updated_outputs:
                print("Renaming {} as new 'truth' file: {}".format(
                      files[0], files[1]))
                shutil.move(files[0], files[1])
            upload_results(pattern=new_truths+['*.log'],
                           testname=testname,
                           target= tree)
    
        if not all_okay and raise_error:
>           raise AssertionError(os.linesep + creature_report)
E           AssertionError: 
E           
E            fitsdiff: 3.1.dev21865
E            a: wfpc2_waiver_drz.fits
E            b: /internal/1/pytest-hst/test_waiver_asn0/reference_wfpc2_asn_waiver.fits
E            Keyword(s) not to be compared:
E             DATE FILENAME FITSDATE HISTORY IRAF-TLM ORIGIN PYWCSVER UPWCSVER
E             UPWTIM WCSCDATE
E            Maximum number of different data values to be reported: 10
E            Relative tolerance: 1e-07, Absolute tolerance: 0
E           
E           Primary HDU:
E           
E              Headers contain differences:
E                Keyword PROD_VER has different values:
E                   a> DrizzlePac 2.2.2.dev22+g82ab782c
E                   b> DrizzlePac 2.1.8
E                Keyword RULEFILE has different values:
E                   a> /user/hack/dev/release/anaconda3/envs/hstrt-2018.1a/lib/python3.6/site-packages/fitsblender/wfpc2_header.rules
E                   b> /srv/iraf/bldtmp/porcelain.rxL0sAKpdg/porcelain/envs/dev/lib/python2.7/site-packages/fitsblender/wfpc2_header.rules
E           
E           Extension HDU 1:
E           
E              Data contains differences:
E                Data differs at [3154, 1]:
E                   a> 4.5402946
E                    ?        ^^
E                   b> 4.5402951
E                    ?        ^^
E                Data differs at [3155, 1]:
E                   a> 4.5402946
E                    ?        ^^
E                   b> 4.5402951
E                    ?        ^^
E                Data differs at [3156, 1]:
E                   a> 7.2686901
E                    ?        -
E                   b> 7.2686911
E                    ?         +
E                Data differs at [3157, 1]:
E                   a> 7.2686901
E                    ?        -
E                   b> 7.2686911
E                    ?         +
E                Data differs at [3158, 1]:
E                   a> 7.2686901
E                    ?        -
E                   b> 7.2686911
E                    ?         +
E                Data differs at [3159, 1]:
E                   a> 1.3509064
E                    ?         ^
E                   b> 1.3509066
E                    ?         ^
E                Data differs at [3160, 1]:
E                   a> 1.3509064
E                    ?         ^
E                   b> 1.3509066
E                    ?         ^
E                Data differs at [3161, 1]:
E                   a> -2.2027798
E                    ?        --
E                   b> -2.20278
E                Data differs at [3162, 1]:
E                   a> -2.2027798
E                    ?        --
E                   b> -2.20278
E                Data differs at [3174, 1]:
E                   a> 3.4368329
E                    ?        ^^
E                   b> 3.4368334
E                    ?        ^^
E                ...
E                11256220 different pixels found (70.12% different).
E           
E           Extension HDU 2:
E           
E              Headers contain differences:
E                Keyword CTYPE1O  has different values:
E                   a> RA---TAN-SIP
E                    ?         ----
E                   b> RA---TAN
E                Keyword CTYPE2O  has different values:
E                   a> DEC--TAN-SIP
E                    ?         ----
E                   b> DEC--TAN
E           
E              Data contains differences:
E                Data differs at [3433, 3]:
E                   a> 0.00080633
E                   b> 0.00080611929
E                Data differs at [3434, 3]:
E                   a> 0.0094735194
E                   b> 0.0094729709
E                Data differs at [3435, 3]:
E                   a> 0.020129643
E                   b> 0.020129085
E                Data differs at [3436, 3]:
E                   a> 0.030785458
E                    ?        - -
E                   b> 0.03078489
E                    ?          +
E                Data differs at [3437, 3]:
E                   a> 0.041441176
E                   b> 0.041440599
E                Data differs at [3438, 3]:
E                   a> 0.052096732
E                    ?         ^^^
E                   b> 0.05209614
E                    ?         ^^
E                Data differs at [3439, 3]:
E                   a> 0.062751912
E                    ?         ^ ^
E                   b> 0.062751316
E                    ?         ^ ^
E                Data differs at [3440, 3]:
E                   a> 0.073407337
E                   b> 0.073406726
E                Data differs at [3441, 3]:
E                   a> 0.084061854
E                    ?         ^ -
E                   b> 0.084061235
E                    ?         ^^
E                Data differs at [3442, 3]:
E                   a> 0.094707869
E                    ?         ^ -
E                   b> 0.094707236
E                    ?         ^^
E                ...
E                4589626 different pixels found (28.59% different).
E           
E           Extension HDU 3:
E           
E              Headers contain differences:
E                Keyword CTYPE1O  has different values:
E                   a> RA---TAN-SIP
E                    ?         ----
E                   b> RA---TAN
E                Keyword CTYPE2O  has different values:
E                   a> DEC--TAN-SIP
E                    ?         ----
E                   b> DEC--TAN
E           
E              Data contains differences:
E                Data differs at [2000, 11]:
E                   a> 0
E                   b> 16384
E                Data differs at [188, 36]:
E                   a> 4
E                   b> 68
E                Data differs at [189, 36]:
E                   a> 4
E                   b> 68
E                Data differs at [1868, 63]:
E                   a> 17544
E                   b> 17416
E                Data differs at [4827, 71]:
E                   a> 32768
E                   b> 34816
E                Data differs at [4360, 80]:
E                   a> 2048
E                   b> 34816
E                Data differs at [2155, 85]:
E                   a> 17544
E                   b> 17416
E                Data differs at [142, 101]:
E                   a> 4
E                   b> 0
E                Data differs at [1472, 102]:
E                   a> 68
E                   b> 64
E                Data differs at [4835, 109]:
E                   a> 2048
E                   b> 34816
E                ...
E                606 different pixels found (0.00% different).
E           
E           Extension HDU 4:
E           
E              Data contains differences:
E                Column ORIENTAT data differs in row 0:
E                   a> 109.531038138516
E                   b> 109.53100000000001
E                Column ORIENTAT data differs in row 1:
E                   a> -160.96516749081729
E                   b> -160.96520000000001
E                Column ORIENTAT data differs in row 3:
E                   a> 19.917496463805278
E                   b> 19.9175
E                Column ORIENTAT data differs in row 4:
E                   a> 109.57291704182219
E                   b> 109.57299999999999
E                Column ORIENTAT data differs in row 5:
E                   a> -160.9472995797052
E                   b> -160.947
E                Column ORIENTAT data differs in row 6:
E                   a> -70.615732791433629
E                   b> -70.615700000000004
E                Column ORIENTAT data differs in row 7:
E                   a> 19.936358147667949
E                   b> 19.936399999999999
E                Column ORIENTAT data differs in row 8:
E                   a> 109.5156319842355
E                   b> 109.51560000000001
E                Column ORIENTAT data differs in row 11:
E                   a> 19.914633633708981
E                   b> 19.914629999999999
E                Column ORIENTAT data differs in row 12:
E                   a> 109.5659653226145
E                   b> 109.566
E                ...3 additional difference(s) found.
E                ...
E                13 different table data element(s) found (0.30% different).

/user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac/drizzlepac/tests/helpers.py:274: AssertionError
_________________________ TestWFPC2.test_wfpc2_single __________________________

self = <drizzlepac.tests.wfpc2.test_wfpc2.TestWFPC2 object at 0x7f62157a6438>

    def test_wfpc2_single(self):
        """ This test confirms that drizzlepac can correcly process single
            WFPC2 exposures.
            """
    
        # Prepare input files.
        raw_inputs = ["u9yq0703m_c0m.fits", "u9yq0703m_c1m.fits"]
        all_inputs = [self.get_data('input', i) for i in raw_inputs]
        inputs = [os.path.basename(i) for i in all_inputs]
    
        output = 'wfpc2_single_mef'
        outfile = '{}_drz.fits'.format(output)
        reffile = 'reference_single_mef.fits'
    
        # Update WCS for all inputs
        driz_inputs = updatewcs.updatewcs(inputs[0], use_db=False)
    
        # run astrodrizzle now...
        adriz_parobj = teal.load('astrodrizzle', defaults=True)
        adriz_parobj['output'] = output
        adriz_parobj['build'] = True
        adriz_parobj['in_memory'] = False
        adriz_parobj['runfile'] = 'wfpc2_single_mef.log'
        adriz_parobj['STATE OF INPUT FILES']['preserve'] = False
        adriz_parobj['STATE OF INPUT FILES']['clean'] = True
        adriz_parobj['STEP 1: STATIC MASK']['static'] = False
        adriz_parobj['STEP 2: SKY SUBTRACTION']['skysub'] = False
        adriz_parobj['STEP 3: DRIZZLE SEPARATE IMAGES']['driz_separate'] = False
        adriz_parobj['STEP 4: CREATE MEDIAN IMAGE']['median'] = False
        adriz_parobj['STEP 5: BLOT BACK THE MEDIAN IMAGE']['blot'] = False
        adriz_parobj['STEP 6: REMOVE COSMIC RAYS WITH DERIV, DRIZ_CR']['driz_cr'] = False
    
        astrodrizzle.AstroDrizzle(driz_inputs, configobj=adriz_parobj)
    
        # Compare results
        outputs = [(outfile, reffile)]
>       self.compare_outputs(outputs)

/user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac/drizzlepac/tests/wfpc2/test_wfpc2.py:128: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <drizzlepac.tests.wfpc2.test_wfpc2.TestWFPC2 object at 0x7f62157a6438>
outputs = [('wfpc2_single_mef_drz.fits', 'reference_single_mef.fits')]
raise_error = True

    def compare_outputs(self, outputs, raise_error=True):
        """
            Compare output with "truth" using appropriate
            diff routine; namely,
                ``fitsdiff`` for FITS file comparisons
                ``unified_diff`` for ASCII products.
    
            Parameters
            ----------
            outputs : list of tuple
                A list of tuples, each containing filename (without path)
                of CALXXX output and truth, in that order.
    
            raise_error : bool
                Raise ``AssertionError`` if difference is found.
    
            Returns
            -------
            report : str
                Report from ``fitsdiff``.
                This is part of error message if ``raise_error=True``.
    
            """
        all_okay = True
        creature_report = ''
        # Create instructions for uploading results to artifactory for use
        # as new comparison/truth files
        testpath, testname = os.path.split(os.path.abspath(os.curdir))
        # organize results by day test was run...could replace with git-hash
        dt = datetime.datetime.now().strftime("%d%b%YT")
        ttime = datetime.datetime.now().strftime("%H_%M_%S")
        testdir = "{}_{}".format(testname, ttime)
        tree = os.path.join(self.results_root, 'results', self.input_loc,
                            dt, testdir)
    
        updated_outputs = []
        for actual, desired in outputs:
            # Get "truth" image
            s = self.get_data('truth', desired)
            if s is not None:
                desired = s
    
            if actual.endswith('fits'):
                # Working with FITS files...
                fdiff = FITSDiff(actual, desired, rtol=self.rtol, atol=self.atol,
                                 ignore_keywords=self.ignore_keywords)
                creature_report += fdiff.report()
                if not fdiff.identical:
                    # Only keep track of failed results which need to
                    # be used to replace the truth files (if OK).
                    updated_outputs.append((actual, desired))
                if not fdiff.identical and all_okay:
                    all_okay = False
            else:
                # Try ASCII-based diff
                with open(actual) as afile:
                    actual_lines = afile.readlines()
                with open(desired) as dfile:
                    desired_lines = dfile.readlines()
                udiff = unified_diff(actual_lines, desired_lines,
                                     fromfile=actual, tofile=desired)
    
                old_stdout = sys.stdout
                udiffIO = StringIO()
                sys.stdout = udiffIO
                sys.stdout.writelines(udiff)
                sys.stdout = old_stdout
                udiff_report = udiffIO.getvalue()
                creature_report += udiff_report
                if len(udiff_report) > 2 and all_okay:
                    all_okay = False
                if len(udiff_report) > 2:
                    # Only keep track of failed results which need to
                    # be used to replace the truth files (if OK).
                    updated_outputs.append((actual, desired))
    
        if not all_okay:
            # Write out JSON file to enable retention of different results
            new_truths = [os.path.basename(i[1]) for i in updated_outputs]
            for files in updated_outputs:
                print("Renaming {} as new 'truth' file: {}".format(
                      files[0], files[1]))
                shutil.move(files[0], files[1])
            upload_results(pattern=new_truths+['*.log'],
                           testname=testname,
                           target= tree)
    
        if not all_okay and raise_error:
>           raise AssertionError(os.linesep + creature_report)
E           AssertionError: 
E           
E            fitsdiff: 3.1.dev21865
E            a: wfpc2_single_mef_drz.fits
E            b: /internal/1/pytest-hst/test_wfpc2_single0/reference_single_mef.fits
E            Keyword(s) not to be compared:
E             DATE FILENAME FITSDATE HISTORY IRAF-TLM ORIGIN PYWCSVER UPWCSVER
E             UPWTIM WCSCDATE
E            Maximum number of different data values to be reported: 10
E            Relative tolerance: 1e-07, Absolute tolerance: 0
E           
E           Primary HDU:
E           
E              Headers contain differences:
E                Keyword PROD_VER has different values:
E                   a> DrizzlePac 2.2.2.dev22+g82ab782c
E                   b> DrizzlePac 2.1.8
E                Keyword RULEFILE has different values:
E                   a> /user/hack/dev/release/anaconda3/envs/hstrt-2018.1a/lib/python3.6/site-packages/fitsblender/wfpc2_header.rules
E                   b> /srv/iraf/bldtmp/porcelain.cTyY9Jh4Wo/porcelain/envs/dev/lib/python2.7/site-packages/fitsblender/wfpc2_header.rules
E           
E           Extension HDU 1:
E           
E              Data contains differences:
E                Data differs at [1613, 1]:
E                   a> 0.0017896784
E                    ?            ^
E                   b> 0.0017896786
E                    ?            ^
E                Data differs at [1614, 1]:
E                   a> 0.0017896784
E                    ?            ^
E                   b> 0.0017896786
E                    ?            ^
E                Data differs at [1617, 1]:
E                   a> -0.00052593951
E                    ?              ^
E                   b> -0.00052593957
E                    ?              ^
E                Data differs at [1618, 1]:
E                   a> -0.00052593951
E                    ?              ^
E                   b> -0.00052593957
E                    ?              ^
E                Data differs at [1621, 1]:
E                   a> 0.00050199474
E                    ?            ^^
E                   b> 0.0005019948
E                    ?            ^
E                Data differs at [1622, 1]:
E                   a> 0.00050199474
E                    ?            ^^
E                   b> 0.0005019948
E                    ?            ^
E                Data differs at [1632, 1]:
E                   a> -0.016928192
E                    ?            ^
E                   b> -0.016928194
E                    ?            ^
E                Data differs at [1633, 1]:
E                   a> -0.016928192
E                    ?            ^
E                   b> -0.016928194
E                    ?            ^
E                Data differs at [1634, 1]:
E                   a> 0.0010030195
E                    ?            ^
E                   b> 0.0010030196
E                    ?            ^
E                Data differs at [1635, 1]:
E                   a> 0.0010030195
E                    ?            ^
E                   b> 0.0010030196
E                    ?            ^
E                ...
E                6480640 different pixels found (59.30% different).
E           
E           Extension HDU 2:
E           
E              Data contains differences:
E                Data differs at [1688, 4]:
E                   a> 15.989941
E                   b> 15.991389
E                Data differs at [1689, 4]:
E                   a> 20.77585
E                    ?        ^
E                   b> 20.77586
E                    ?        ^
E                Data differs at [1690, 4]:
E                   a> 20.873957
E                    ?        ^^
E                   b> 20.873964
E                    ?        ^^
E                Data differs at [1691, 4]:
E                   a> 20.972193
E                    ?       ^^^
E                   b> 20.9722
E                    ?       ^
E                Data differs at [1692, 4]:
E                   a> 21.070368
E                    ?        ^^
E                   b> 21.070377
E                    ?        ^^
E                Data differs at [1693, 4]:
E                   a> 21.168524
E                    ?        ^^
E                   b> 21.168531
E                    ?        ^^
E                Data differs at [1694, 4]:
E                   a> 21.266771
E                    ?        ^
E                   b> 21.266781
E                    ?        ^
E                Data differs at [1695, 4]:
E                   a> 21.364845
E                    ?        -
E                   b> 21.364853
E                    ?         +
E                Data differs at [1696, 4]:
E                   a> 21.463167
E                    ?        -
E                   b> 21.463175
E                    ?         +
E                Data differs at [1697, 4]:
E                   a> 21.561157
E                    ?         -
E                   b> 21.561165
E                    ?        +
E                ...
E                3966601 different pixels found (36.29% different).
E           
E           Extension HDU 3:
E           
E              Data contains differences:
E                Data differs at [192, 1041]:
E                   a> 4
E                   b> 0
E                Data differs at [1768, 1310]:
E                   a> 8
E                   b> 0
E                Data differs at [722, 2087]:
E                   a> 2
E                   b> 0
E                Data differs at [174, 2934]:
E                   a> 0
E                   b> 2
E                4 different pixels found (0.00% different).

/user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac/drizzlepac/tests/helpers.py:274: AssertionError
____________________________ TestWFPC2.test_mef_asn ____________________________

self = <drizzlepac.tests.wfpc2.test_wfpc2.TestWFPC2 object at 0x7f620dc0a550>

    def test_mef_asn(self):
        """ This test confirms that drizzlepac can correcly process input
            WFPC2 data stored in Multi-extensions FITS(MEF) format.
            """
    
        # Prepare input files.
        raw_inputs = ['u9yq0703m_c0m.fits', 'u9yq0704m_c0m.fits',
                      'u9yq0707m_c0m.fits', 'u9yq0708m_c0m.fits',
                      'u9yq0703m_c1m.fits', 'u9yq0704m_c1m.fits',
                      'u9yq0707m_c1m.fits', 'u9yq0708m_c1m.fits']
        all_inputs = [self.get_data('input', i) for i in raw_inputs]
        inputs = [os.path.basename(i) for i in all_inputs]
    
        output = 'wfpc2_mef'
        outfile = '{}_drz.fits'.format(output)
        reffile = 'reference_wfpc2_asn_mef.fits'
    
        # Update WCS for all inputs
        driz_inputs = updatewcs.updatewcs(inputs[:4], use_db=False)
    
        # run astrodrizzle now...
        adriz_parobj = teal.load('astrodrizzle', defaults=True)
        adriz_parobj['output'] = output
        adriz_parobj['build'] = True
        adriz_parobj['in_memory'] = True
        adriz_parobj['runfile'] = 'wfpc2_asn_mef.log'
        adriz_parobj['STATE OF INPUT FILES']['preserve'] = False
        adriz_parobj['STATE OF INPUT FILES']['clean'] = True
        adriz_parobj['STEP 2: SKY SUBTRACTION']['skysub'] = False
    
        astrodrizzle.AstroDrizzle(driz_inputs, configobj=adriz_parobj)
    
        # Compare results
        outputs = [(outfile, reffile)]
>       self.compare_outputs(outputs)

/user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac/drizzlepac/tests/wfpc2/test_wfpc2.py:164: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <drizzlepac.tests.wfpc2.test_wfpc2.TestWFPC2 object at 0x7f620dc0a550>
outputs = [('wfpc2_mef_drz.fits', 'reference_wfpc2_asn_mef.fits')]
raise_error = True

    def compare_outputs(self, outputs, raise_error=True):
        """
            Compare output with "truth" using appropriate
            diff routine; namely,
                ``fitsdiff`` for FITS file comparisons
                ``unified_diff`` for ASCII products.
    
            Parameters
            ----------
            outputs : list of tuple
                A list of tuples, each containing filename (without path)
                of CALXXX output and truth, in that order.
    
            raise_error : bool
                Raise ``AssertionError`` if difference is found.
    
            Returns
            -------
            report : str
                Report from ``fitsdiff``.
                This is part of error message if ``raise_error=True``.
    
            """
        all_okay = True
        creature_report = ''
        # Create instructions for uploading results to artifactory for use
        # as new comparison/truth files
        testpath, testname = os.path.split(os.path.abspath(os.curdir))
        # organize results by day test was run...could replace with git-hash
        dt = datetime.datetime.now().strftime("%d%b%YT")
        ttime = datetime.datetime.now().strftime("%H_%M_%S")
        testdir = "{}_{}".format(testname, ttime)
        tree = os.path.join(self.results_root, 'results', self.input_loc,
                            dt, testdir)
    
        updated_outputs = []
        for actual, desired in outputs:
            # Get "truth" image
            s = self.get_data('truth', desired)
            if s is not None:
                desired = s
    
            if actual.endswith('fits'):
                # Working with FITS files...
                fdiff = FITSDiff(actual, desired, rtol=self.rtol, atol=self.atol,
                                 ignore_keywords=self.ignore_keywords)
                creature_report += fdiff.report()
                if not fdiff.identical:
                    # Only keep track of failed results which need to
                    # be used to replace the truth files (if OK).
                    updated_outputs.append((actual, desired))
                if not fdiff.identical and all_okay:
                    all_okay = False
            else:
                # Try ASCII-based diff
                with open(actual) as afile:
                    actual_lines = afile.readlines()
                with open(desired) as dfile:
                    desired_lines = dfile.readlines()
                udiff = unified_diff(actual_lines, desired_lines,
                                     fromfile=actual, tofile=desired)
    
                old_stdout = sys.stdout
                udiffIO = StringIO()
                sys.stdout = udiffIO
                sys.stdout.writelines(udiff)
                sys.stdout = old_stdout
                udiff_report = udiffIO.getvalue()
                creature_report += udiff_report
                if len(udiff_report) > 2 and all_okay:
                    all_okay = False
                if len(udiff_report) > 2:
                    # Only keep track of failed results which need to
                    # be used to replace the truth files (if OK).
                    updated_outputs.append((actual, desired))
    
        if not all_okay:
            # Write out JSON file to enable retention of different results
            new_truths = [os.path.basename(i[1]) for i in updated_outputs]
            for files in updated_outputs:
                print("Renaming {} as new 'truth' file: {}".format(
                      files[0], files[1]))
                shutil.move(files[0], files[1])
            upload_results(pattern=new_truths+['*.log'],
                           testname=testname,
                           target= tree)
    
        if not all_okay and raise_error:
>           raise AssertionError(os.linesep + creature_report)
E           AssertionError: 
E           
E            fitsdiff: 3.1.dev21865
E            a: wfpc2_mef_drz.fits
E            b: /internal/1/pytest-hst/test_mef_asn0/reference_wfpc2_asn_mef.fits
E            Keyword(s) not to be compared:
E             DATE FILENAME FITSDATE HISTORY IRAF-TLM ORIGIN PYWCSVER UPWCSVER
E             UPWTIM WCSCDATE
E            Maximum number of different data values to be reported: 10
E            Relative tolerance: 1e-07, Absolute tolerance: 0
E           
E           Primary HDU:
E           
E              Headers contain differences:
E                Keyword PROD_VER has different values:
E                   a> DrizzlePac 2.2.2.dev22+g82ab782c
E                   b> DrizzlePac 2.1.8
E                Keyword RULEFILE has different values:
E                   a> /user/hack/dev/release/anaconda3/envs/hstrt-2018.1a/lib/python3.6/site-packages/fitsblender/wfpc2_header.rules
E                   b> /srv/iraf/bldtmp/porcelain.cTyY9Jh4Wo/porcelain/envs/dev/lib/python2.7/site-packages/fitsblender/wfpc2_header.rules
E           
E           Extension HDU 1:
E           
E              Data contains differences:
E                Data differs at [1600, 1]:
E                   a> 0.032892052
E                    ?           ^
E                   b> 0.032892056
E                    ?           ^
E                Data differs at [1601, 1]:
E                   a> 0.032892052
E                    ?           ^
E                   b> 0.032892056
E                    ?           ^
E                Data differs at [1602, 1]:
E                   a> -0.018315516
E                    ?            ^
E                   b> -0.018315518
E                    ?            ^
E                Data differs at [1603, 1]:
E                   a> -0.018315516
E                    ?            ^
E                   b> -0.018315518
E                    ?            ^
E                Data differs at [1604, 1]:
E                   a> 0.05949448
E                   b> 0.059494488
E                    ?           +
E                Data differs at [1605, 1]:
E                   a> 0.05949448
E                   b> 0.059494488
E                    ?           +
E                Data differs at [1617, 1]:
E                   a> -0.015068199
E                    ?           --
E                   b> -0.015068201
E                    ?          ++
E                Data differs at [1618, 1]:
E                   a> -0.015068199
E                    ?           --
E                   b> -0.015068201
E                    ?          ++
E                Data differs at [1626, 1]:
E                   a> 0.008246894
E                   b> 0.0082468949
E                    ?            +
E                Data differs at [1627, 1]:
E                   a> 0.008246894
E                   b> 0.0082468949
E                    ?            +
E                ...
E                8653948 different pixels found (78.92% different).
E           
E           Extension HDU 2:
E           
E              Data contains differences:
E                Data differs at [1688, 4]:
E                   a> 31.486031
E                   b> 31.488895
E                Data differs at [1689, 4]:
E                   a> 41.411839
E                    ?        ^^
E                   b> 41.411854
E                    ?        ^^
E                Data differs at [1690, 4]:
E                   a> 41.60804
E                    ?        ^
E                   b> 41.608055
E                    ?        ^^
E                Data differs at [1691, 4]:
E                   a> 41.804478
E                    ?        ^^
E                   b> 41.804493
E                    ?        ^^
E                Data differs at [1692, 4]:
E                   a> 42.00082
E                    ?        ^
E                   b> 42.000835
E                    ?        ^^
E                Data differs at [1693, 4]:
E                   a> 42.197098
E                   b> 42.197113
E                Data differs at [1694, 4]:
E                   a> 42.393585
E                    ?        ^^
E                   b> 42.393597
E                    ?        ^^
E                Data differs at [1695, 4]:
E                   a> 42.589699
E                   b> 42.589714
E                Data differs at [1696, 4]:
E                   a> 42.786327
E                    ?        ^^
E                   b> 42.786346
E                    ?        ^^
E                Data differs at [1697, 4]:
E                   a> 42.982277
E                    ?        ^^
E                   b> 42.982292
E                    ?        ^^
E                ...
E                6970931 different pixels found (63.57% different).
E           
E           Extension HDU 3:
E           
E              Data contains differences:
E                Data differs at [2788, 18]:
E                   a> 136
E                   b> 32904
E                Data differs at [2676, 23]:
E                   a> 34952
E                   b> 32904
E                Data differs at [2677, 23]:
E                   a> 34952
E                   b> 32904
E                Data differs at [2676, 24]:
E                   a> 34952
E                   b> 32904
E                Data differs at [2677, 24]:
E                   a> 34952
E                   b> 32904
E                Data differs at [3305, 29]:
E                   a> 34824
E                   b> 34952
E                Data differs at [849, 31]:
E                   a> 17412
E                   b> 17408
E                Data differs at [1001, 32]:
E                   a> 17476
E                   b> 16452
E                Data differs at [3157, 46]:
E                   a> 34944
E                   b> 32896
E                Data differs at [3157, 47]:
E                   a> 34952
E                   b> 32904
E                ...
E                569 different pixels found (0.01% different).
E           
E           Extension HDU 4:
E           
E              Data contains differences:
E                Column ORIENTAT data differs in row 0:
E                   a> -49.380446247159071
E                   b> -49.441447313027311
E                Column ORIENTAT data differs in row 1:
E                   a> 40.1028502042101
E                   b> 40.0686452428736
E                Column ORIENTAT data differs in row 2:
E                   a> 130.42225554513021
E                   b> 130.3961385764604
E                Column ORIENTAT data differs in row 3:
E                   a> -139.02584501417721
E                   b> -139.0607247926655
E                4 different table data element(s) found (0.09% different).

/user/hack/dev/release/stsci_python/pypi/drizzlepac/git/drizzlepac/drizzlepac/tests/helpers.py:274: AssertionError
=============================== warnings summary ===============================
:413
  'pytest_runtest_makereport' hook uses deprecated __multicall__ argument

None
  pytest_funcarg__pdk_test_name: declaring fixtures using "pytest_funcarg__" prefix is deprecated and scheduled to be removed in pytest 4.0.  Please remove the prefix and use the @pytest.fixture decorator instead.

drizzlepac/tests/wfpc2/test_wfpc2.py::TestWFPC2::()::test_waiver_single
  /user/hack/dev/release/anaconda3/envs/hstrt-2018.1a/lib/python3.6/site-packages/astropy/io/fits/column.py:1469: VerifyWarning: Invalid keyword for column 11: Column disp option (TDISPn) may not use the 'L' format with ASCII table columns.  The invalid value will be ignored for the purpose of formatting the data in this column.
    VerifyWarning)

drizzlepac/tests/wfpc2/test_wfpc2.py::TestWFPC2::()::test_waiver_asn
  /user/hack/dev/release/anaconda3/envs/hstrt-2018.1a/lib/python3.6/site-packages/astropy/io/fits/column.py:1469: VerifyWarning: Invalid keyword for column 11: Column disp option (TDISPn) may not use the 'L' format with ASCII table columns.  The invalid value will be ignored for the purpose of formatting the data in this column.
    VerifyWarning)

drizzlepac/tests/wfpc2/test_wfpc2.py::TestWFPC2::()::test_wfpc2_single
  /user/hack/dev/release/anaconda3/envs/hstrt-2018.1a/lib/python3.6/site-packages/astropy/io/fits/card.py:979: VerifyWarning: Card is too long, comment will be truncated.
    VerifyWarning)

drizzlepac/tests/wfpc2/test_wfpc2.py::TestWFPC2::()::test_mef_asn
  /user/hack/dev/release/anaconda3/envs/hstrt-2018.1a/lib/python3.6/site-packages/astropy/io/fits/card.py:979: VerifyWarning: Card is too long, comment will be truncated.
    VerifyWarning)

-- Docs: http://doc.pytest.org/en/latest/warnings.html
==================== 4 failed, 6 warnings in 82.46 seconds =====================
